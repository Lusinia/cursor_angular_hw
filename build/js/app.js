"use strict";var shopApp=angular.module("shopApp",["ngRoute","ngAnimate"]);shopApp.config(["$routeProvider","$locationProvider",function(t,e){t.when("/",{templateUrl:"../partials/home.html",controller:"mainController"}).when("/add",{templateUrl:"../partials/add.html",controller:"addProduct"}).when("/orders",{templateUrl:"../partials/orders.html",controller:"ShowOrders"}).when("/product/:id",{templateUrl:"../partials/product.html",controller:"ShowProduct"}).otherwise({redirectTo:"/orders"}),e.html5Mode(!0)}]),angular.module("shopApp").run(["$templateCache",function(t){t.put("../partials/add.html",'<div class={{pageStyle}}><h2 class=text-primary>Добавить книгу в список</h2><form name=form class=css-form novalidate><div class=form-group><label for=name>Title <input type=text id=name name=name class=form-control data-ng-model=newProduct.title required ng-minlength=2></label><p ng-show=form.name.$error.minlength class=help-block>Название книги слишком короткое.</p></div><div class=form-group><label for=img>Image url <input type=text id=img class=form-control name=img data-ng-model=newProduct.img required ng-pattern="/^(https?:\\/\\/)?([\\da-z\\.-]+)\\.([a-z\\.]{2,6})([\\/\\w \\.-]*)*\\/?$/"></label><p ng-show=form.img.$error.pattern class=help-block>Укажите изображение книги.</p></div><div class=form-group><label for=genre>Genre<select name=selected id=genre data-ng-model=newProduct.genre ng-options="option for option in options" required></select></label><p ng-show=form.genre.$error.required class=help-block>Какого жанра эта книга.</p></div><div class=form-group><label for=cost>Cost <input type=text id=cost class=form-control name=cost data-ng-model=newProduct.cost required ng-pattern="/^[0-9]{1,}$/"></label><p ng-show=form.cost.$error.pattern class=help-block>Введите стоимость книги.</p></div><div class=form-group><label for=desc>Description <textarea id=desc rows=5 name=desc class=form-control data-ng-model=newProduct.desc required ng-minlength=2></textarea></label><p ng-show=form.desc.$error.minlength class=help-block>Укажите описание книги.</p></div><div class=buttonWrapper><button type=submit data-ng-click=addProduct() class="btn btn-success" ng-disabled=form.$invalid>Добавить</button> <a href="/" class="btn btn-primary">На главную</a></div></form></div>'),t.put("../partials/home.html",'<div class="{{ pageStyle }}"><h2>Книги на любой вкус</h2><div class=buttons><a href=/add class="btn btn-primary btn-lg">Добавить книгу</a> <a href=/orders data-ng-click=setOrdersNumber() class="btn btn-primary btn-lg">Мои заказы <span class="glyphicon glyphicon-flash" aria-hidden=true></span> {{orders.length}}</a></div><select name=sorting-list data-ng-model=sortList.type ng-options="option.value as option.name for option in typeOptions"></select><aside><ul class=list-group><li class=list-group-item data-ng-repeat="genre in genreList" ng-click=myFilter(genre.val)><span class=badge>{{genre.num}}</span> {{genre.val}}</li><li class=list-group-item ng-click=myFilter(null)><span class=badge>{{products.length}}</span>Показать все книги</li></ul></aside><ul class=list ng-show=isLoaded><li data-ng-repeat="prod in products | filter: filters | orderBy: sortList.type" data-ng-click=showProduct(prod) data-ng-model=item class="fadein products"><md-card><p class=genre>{{ prod.genre }}</p><a href="/product/{{ prod.id }}"><h3>{{ prod.title }}</h3><img src="{{ prod.img }}" width=100 class=md-card-image alt="image caption"><br></a><p class=desc>{{ prod.description.substring(0, 50) }} ...</p><div class=cost>{{prod.cost}}$</div></md-card></li></ul></div>'),t.put("../partials/orders.html",'<div class={{pageStyle}}><h2>Твои заказы</h2><ul class=orders-list><li data-ng-repeat=\'order in orders | filter: order.id | orderBy: "id"\'>№ {{ order.id }}. <span>{{ order.title }}</span> - {{ order.quantity }} pc ({{ order.cost*order.quantity}} $) <button class="btn btn-danger" data-ng-click=removeOrder($index)>Удалить</button></li></ul><div class=sum><span>Общая сумма:</span> <span class=sumInfo>{{ sum }} $</span></div><a href="/" class="btn btn-primary btn-lg">На главную</a></div>'),t.put("../partials/product.html",'<div class={{pageStyle}}><a href=#orders class="btn btn-danger btn-lg buy" data-ng-click=addOrder(item)>Купить всего за $ {{ cost }}</a><div class=product-content><h1>{{ title}}</h1><img class=img-responsive src="{{ img }}" alt=img width=300><p class=desc>{{ description }}</p><p><b>Жанр: <span>{{genre}}</span></b></p></div><a href=# ng-click=deleteProduct() class="btn btn-warning">Удалить книгу</a> <a href="/" class="btn btn-info">На главную</a></div>')}]),shopApp.factory("ordersFactory",["$location",function(t){var e=[{id:1,title:"Cat in the dark",img:"./img/cat2.jpg",desc:"Its just me",cost:"50",quantity:1}],r={};return r.getOrders=function(){return e},r.addOrder=function(r){if(e.length>0){var o=!1;e.forEach(function(t){r.title===t.title&&(o=!0,t.quantity++)}),o||e.push(r)}t.path("/")},r.defineCostForItems=function(t){var e=0;return t.forEach(function(t){e+=+t.cost}),e},r}]),shopApp.factory("productsFactory",["$http","$location","$timeout",function(t,e,r){var o=function(){return t.get("http://localhost:8080/")},n=[],s={};return s.getJSON=function(){return o()},s.getProducts=function(){return n},s.setProducts=function(t){n=t},s.addProduct=function(o){t({method:"post",url:"http://localhost:8080/",data:JSON.stringify(o),config:"Content-Type: application/json;"}).then(function(t){console.log(t),r(function(){e.path("/")},1e3)},function(t){console.log(t)})},s.deleteProduct=function(o){var n={index:o.index,productId:o.product.id};t.delete("http://localhost:8080/product/"+n.productId,{params:n}).then(function(t){r(function(){e.path("/")},1e3),console.log(t)})},s.findProductById=function(t){var e=void 0;return n.forEach(function(r){r.id==t&&(e=r)}),e},s}]),shopApp.controller("ShowOrders",["$scope","$routeParams","productsFactory","ordersFactory",function(t,e,r,o){t.pageStyle="showOrdersStyle",t.orders=[],t.sum=o.defineCostForItems(o.getOrders()),t.item={},t.selected={value:0};t.orders=o.getOrders(),t.removeOrder=function(e){t.orders[e].quantity>1?t.orders[e].quantity-=1:1===t.orders[e].quantity&&t.orders.splice(e,1)}}]),shopApp.controller("ShowProduct",["$scope","$routeParams","productsFactory","ordersFactory",function(t,e,r,o){t.pageStyle="showProductStyle",t.ProductId=e.id;var n=r.findProductById(t.ProductId);t.img=n.img,t.title=n.title,t.genre=n.genre,t.description=n.description,t.cost=n.cost,t.products=r.getProducts(),t.addOrder=function(t){o.addOrder({title:n.title,id:o.getOrders().length+1,cost:n.cost,quantity:1})},t.deleteProduct=function(){console.log(n);var e=t.products.indexOf(n);r.deleteProduct({index:e,product:n})}}]),shopApp.controller("addProduct",["$scope","productsFactory",function(t,e){t.pageStyle="addStyle",t.options=["Детективы","Психология","Фантастика","Фентези","Сказки","Женские романы","Религия","Ужасы"],t.addProduct=function(){e.addProduct({title:t.newProduct.title,img:t.newProduct.img,description:t.newProduct.desc,genre:t.newProduct.genre,cost:+t.newProduct.cost,id:Math.random()})}}]),shopApp.controller("mainController",["$scope","$location","$routeParams","productsFactory","ordersFactory",function(t,e,r,o,n){t.pageStyle="mainPageStyle",t.pageClass="page-style",t.products=[],t.isLoaded=!1,t.orders=[],t.genreList=[],t.filters="",t.typeOptions=[{name:"Название",value:"title"},{name:"Жанр",value:"genre"},{name:"Цена по возрастанию",value:"cost"}],t.sortList={type:t.typeOptions[0].value},t.myFilter=function(e){t.filters=null==e?"":e};var s=function(){o.getJSON().then(function(e){var r=[];e.data.forEach(function(t){var e={};e.description=t.description,e.title=t.title,e.img=t.img,e.genre=t.genre,e.cost=+t.cost,e.id=t.id,r.push(e)}),o.setProducts(r),t.products=r;var n=_.map(r,"genre"),s=function(){n.sort();for(var t={},e=null,r=0,o=0;o<n.length;o++)n[o]!=e?(r=1,t[e=n[o]]=r):(r++,t[e]=r);return t}(),a=_.map(s,function(t,e){return{num:t,val:e||null}});t.genreList=a})};t.products=s(),t.orders=n.getOrders(),t.isLoaded=!0,console.log(t.isLoaded)}]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsInRlbXBsYXRlcy5qcyIsIm9yZGVycy5qcyIsInByb2R1Y3RzLmpzIiwiU2hvd09yZGVycy5qcyIsIlNob3dQcm9kdWN0LmpzIiwiYWRkUHJvZHVjdC5qcyIsIm1haW5Db250cm9sbGVyLmpzIl0sIm5hbWVzIjpbInNob3BBcHAiLCJhbmd1bGFyIiwibW9kdWxlIiwiY29uZmlnIiwiJHJvdXRlUHJvdmlkZXIiLCIkbG9jYXRpb25Qcm92aWRlciIsIndoZW4iLCJ0ZW1wbGF0ZVVybCIsImNvbnRyb2xsZXIiLCJvdGhlcndpc2UiLCJyZWRpcmVjdFRvIiwiaHRtbDVNb2RlIiwicnVuIiwiJHRlbXBsYXRlQ2FjaGUiLCJwdXQiLCJmYWN0b3J5IiwiJGxvY2F0aW9uIiwib3JkZXJzIiwiaWQiLCJ0aXRsZSIsImltZyIsImRlc2MiLCJjb3N0IiwicXVhbnRpdHkiLCJnZXRPcmRlcnMiLCJhZGRPcmRlciIsIml0ZW0iLCJsZW5ndGgiLCJpc0NvaW5jaWRlbmNlIiwiZm9yRWFjaCIsIm9yZGVyIiwicHVzaCIsInBhdGgiLCJkZWZpbmVDb3N0Rm9ySXRlbXMiLCJzdW0iLCIkaHR0cCIsIiR0aW1lb3V0IiwicmVjaWV2ZURhdGEiLCJnZXQiLCJwcm9kdWN0cyIsImdldEpTT04iLCJnZXRQcm9kdWN0cyIsInNldFByb2R1Y3RzIiwiZGF0YSIsImFkZFByb2R1Y3QiLCJtZXRob2QiLCJ1cmwiLCJKU09OIiwic3RyaW5naWZ5IiwidGhlbiIsInJlc3BvbnNlIiwiY29uc29sZSIsImxvZyIsImRlbGV0ZVByb2R1Y3QiLCJwcm9kdWN0SW5mbyIsImluZGV4IiwicHJvZHVjdElkIiwicHJvZHVjdCIsImRlbGV0ZSIsInBhcmFtcyIsImZpbmRQcm9kdWN0QnlJZCIsImZvdW5kIiwiJHNjb3BlIiwiJHJvdXRlUGFyYW1zIiwicHJvZHVjdHNGYWN0b3J5Iiwib3JkZXJzRmFjdG9yeSIsInBhZ2VTdHlsZSIsInNlbGVjdGVkIiwidmFsdWUiLCJyZW1vdmVPcmRlciIsInNwbGljZSIsIlByb2R1Y3RJZCIsImN1cnJlbnRQcm9kdWN0IiwiZ2VucmUiLCJkZXNjcmlwdGlvbiIsImluZGV4T2YiLCJvcHRpb25zIiwibmV3UHJvZHVjdCIsIk1hdGgiLCJyYW5kb20iLCJwYWdlQ2xhc3MiLCJpc0xvYWRlZCIsImdlbnJlTGlzdCIsImZpbHRlcnMiLCJ0eXBlT3B0aW9ucyIsIm5hbWUiLCJzb3J0TGlzdCIsInR5cGUiLCJteUZpbHRlciIsImxpbmsiLCJjcmVhdGVMaXN0IiwiaXRlbXMiLCJsaXN0Iiwia2V5IiwibGlzdEl0ZW0iLCJfIiwibWFwIiwiZ2VucmVzIiwic29ydCIsInVuaXFWYWx1ZXNPYmplc2MiLCJjdXJyZW50IiwiY250IiwiaSIsImdlbnJlQXJyYXlGcm9tT2JqZWN0IiwibnVtIiwidmFsIl0sIm1hcHBpbmdzIjoiQUFBQSxhQUdBLElBQUFBLFFBQUFDLFFBQUFDLE9BQUEsV0FBQSxVQUFBLGNBS0FGLFFBQUFHLFFBQUEsaUJBQUEsb0JBQUEsU0FBQUMsRUFBQUMsR0FFQUQsRUFHQUUsS0FBQSxLQUNBQyxZQUFBLHdCQUNBQyxXQUFBLG1CQUlBRixLQUFBLFFBQ0FDLFlBQUEsdUJBQ0FDLFdBQUEsZUFJQUYsS0FBQSxXQUNBQyxZQUFBLDBCQUNBQyxXQUFBLGVBSUFGLEtBQUEsZ0JBQ0FDLFlBQUEsMkJBQ0FDLFdBQUEsZ0JBQ0FDLFdBQUFDLFdBQUEsWUFDQUwsRUFBQU0sV0FBQSxNQ25DQVYsUUFBQUMsT0FBQSxXQUFBVSxLQUFBLGlCQUFBLFNBQUFDLEdBQUFBLEVBQUFDLElBQUEsdUJBQUEsK3BEQUNBRCxFQUFBQyxJQUFBLHdCQUFBLDB1Q0FDQUQsRUFBQUMsSUFBQSwwQkFBQSw4ZUFDQUQsRUFBQUMsSUFBQSwyQkFBQSw4Y0NBQWQsUUFBQWUsUUFBQSxpQkFBQSxZQUFBLFNBQUFDLEdBQ0EsSUFBQUMsSUFDQUMsR0FBQSxFQUNBQyxNQUFBLGtCQUNBQyxJQUFBLGlCQUNBQyxLQUFBLGNBQ0FDLEtBQUEsS0FDQUMsU0FBQSxJQUVBUixLQTRCQSxPQTNC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UUFBQSxTQUFBZ0UsR0FDQSxJQUFBQyxLQUNBQSxFQUFBcEIsWUFBQW1CLEVBQUFuQixZQUNBb0IsRUFBQTNFLE1BQUEwRSxFQUFBMUUsTUFDQTJFLEVBQUExRSxJQUFBeUUsRUFBQXpFLElBQ0EwRSxFQUFBckIsTUFBQW9CLEVBQUFwQixNQUNBcUIsRUFBQXhFLE1BQUF1RSxFQUFBdkUsS0FDQXdFLEVBQUE1RSxHQUFBMkUsRUFBQTNFLEdBQ0EwRSxFQUFBN0QsS0FBQStELEtBRUE5QixFQUFBdEIsWUFBQWtELEdBQ0E5QixFQUFBdkIsU0FBQXFELEVBRUEsSUFBQVYsRUFBQWEsRUFBQUMsSUFBQUosRUFBQSxTQUNBSyxFQVVBLFdBQ0FmLEVBQUFnQixPQUlBLElBQUEsSUFIQUMsS0FDQUMsRUFBQSxLQUNBQyxFQUFBLEVBQ0FDLEVBQUEsRUFBQUEsRUFBQXBCLEVBQUF2RCxPQUFBMkUsSUFDQXBCLEVBQUFvQixJQUFBRixHQUVBQyxFQUFBLEVBQ0FGLEVBRkFDLEVBQUFsQixFQUFBb0IsSUFFQUQsSUFFQUEsSUFDQUYsRUFBQUMsR0FBQUMsR0FHQSxPQUFBRixLQXhCQUksRUFBQVIsRUFBQUMsSUFBQUMsRUFBQSxTQUFBdkUsRUFBQTRFLEdBRUEsT0FDQUUsSUFBQTlFLEVBQ0ErRSxJQUFBSCxHQUFBLFFBR0F4QyxFQUFBb0IsVUFBQXFCLEtBdUJBekMsRUFBQXZCLFNBQUFtRCxJQUNBNUIsRUFBQTdDLE9BQUFnRCxFQUFBekMsWUFDQXNDLEVBQUFtQixVQUFBLEVBQ0E5QixRQUFBQyxJQUFBVSxFQUFBbUIiLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8vIGRlZmluZSBvdXIgYXBwbGljYXRpb24gYW5kIHB1bGwgaW4gbmdSb3V0ZSBhbmQgbmdBbmltYXRlXG52YXIgc2hvcEFwcCA9IGFuZ3VsYXIubW9kdWxlKFwic2hvcEFwcFwiLCBbXCJuZ1JvdXRlXCIsIFwibmdBbmltYXRlXCJdKTtcblxuLy8gUk9VVElORyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gc2V0IG91ciByb3V0aW5nIGZvciB0aGlzIGFwcGxpY2F0aW9uXG4vLyBlYWNoIHJvdXRlIHdpbGwgcHVsbCBpbiBhIGRpZmZlcmVudCBjb250cm9sbGVyXG5zaG9wQXBwLmNvbmZpZyhbJyRyb3V0ZVByb3ZpZGVyJywgJyRsb2NhdGlvblByb3ZpZGVyJywgZnVuY3Rpb24gKCRyb3V0ZVByb3ZpZGVyLCAkbG9jYXRpb25Qcm92aWRlcikge1xuXG4gICAgJHJvdXRlUHJvdmlkZXJcblxuICAgIC8vIGhvbWUgcGFnZVxuICAgIC53aGVuKFwiL1wiLCB7XG4gICAgICAgIHRlbXBsYXRlVXJsOiBcIi4uL3BhcnRpYWxzL2hvbWUuaHRtbFwiLFxuICAgICAgICBjb250cm9sbGVyOiBcIm1haW5Db250cm9sbGVyXCJcbiAgICB9KVxuXG4gICAgLy8gYWRkIHBhZ2VcbiAgICAud2hlbihcIi9hZGRcIiwge1xuICAgICAgICB0ZW1wbGF0ZVVybDogXCIuLi9wYXJ0aWFscy9hZGQuaHRtbFwiLFxuICAgICAgICBjb250cm9sbGVyOiBcImFkZFByb2R1Y3RcIlxuICAgIH0pXG5cbiAgICAvLyBvcmRlcnMgcGFnZVxuICAgIC53aGVuKFwiL29yZGVyc1wiLCB7XG4gICAgICAgIHRlbXBsYXRlVXJsOiBcIi4uL3BhcnRpYWxzL29yZGVycy5odG1sXCIsXG4gICAgICAgIGNvbnRyb2xsZXI6IFwiU2hvd09yZGVyc1wiXG4gICAgfSlcblxuICAgIC8vIHByb2R1Y3QgcGFnZVxuICAgIC53aGVuKFwiL3Byb2R1Y3QvOmlkXCIsIHtcbiAgICAgICAgdGVtcGxhdGVVcmw6IFwiLi4vcGFydGlhbHMvcHJvZHVjdC5odG1sXCIsXG4gICAgICAgIGNvbnRyb2xsZXI6IFwiU2hvd1Byb2R1Y3RcIlxuICAgIH0pLm90aGVyd2lzZSh7IHJlZGlyZWN0VG86IFwiL29yZGVyc1wiIH0pO1xuICAgICRsb2NhdGlvblByb3ZpZGVyLmh0bWw1TW9kZSh0cnVlKTtcbn1dKTsiLCJhbmd1bGFyLm1vZHVsZSgnc2hvcEFwcCcpLnJ1bihbJyR0ZW1wbGF0ZUNhY2hlJywgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHskdGVtcGxhdGVDYWNoZS5wdXQoJy4uL3BhcnRpYWxzL2FkZC5odG1sJywnPGRpdiBjbGFzcz17e3BhZ2VTdHlsZX19PjxoMiBjbGFzcz10ZXh0LXByaW1hcnk+XFx1MDQxNFxcdTA0M0VcXHUwNDMxXFx1MDQzMFxcdTA0MzJcXHUwNDM4XFx1MDQ0MlxcdTA0NEMgXFx1MDQzQVxcdTA0M0RcXHUwNDM4XFx1MDQzM1xcdTA0NDMgXFx1MDQzMiBcXHUwNDQxXFx1MDQzRlxcdTA0MzhcXHUwNDQxXFx1MDQzRVxcdTA0M0E8L2gyPjxmb3JtIG5hbWU9Zm9ybSBjbGFzcz1jc3MtZm9ybSBub3ZhbGlkYXRlPjxkaXYgY2xhc3M9Zm9ybS1ncm91cD48bGFiZWwgZm9yPW5hbWU+VGl0bGUgPGlucHV0IHR5cGU9dGV4dCBpZD1uYW1lIG5hbWU9bmFtZSBjbGFzcz1mb3JtLWNvbnRyb2wgZGF0YS1uZy1tb2RlbD1uZXdQcm9kdWN0LnRpdGxlIHJlcXVpcmVkIG5nLW1pbmxlbmd0aD0yPjwvbGFiZWw+PHAgbmctc2hvdz1mb3JtLm5hbWUuJGVycm9yLm1pbmxlbmd0aCBjbGFzcz1oZWxwLWJsb2NrPlxcdTA0MURcXHUwNDMwXFx1MDQzN1xcdTA0MzJcXHUwNDMwXFx1MDQzRFxcdTA0MzhcXHUwNDM1IFxcdTA0M0FcXHUwNDNEXFx1MDQzOFxcdTA0MzNcXHUwNDM4IFxcdTA0NDFcXHUwNDNCXFx1MDQzOFxcdTA0NDhcXHUwNDNBXFx1MDQzRVxcdTA0M0MgXFx1MDQzQVxcdTA0M0VcXHUwNDQwXFx1MDQzRVxcdTA0NDJcXHUwNDNBXFx1MDQzRVxcdTA0MzUuPC9wPjwvZGl2PjxkaXYgY2xhc3M9Zm9ybS1ncm91cD48bGFiZWwgZm9yPWltZz5JbWFnZSB1cmwgPGlucHV0IHR5cGU9dGV4dCBpZD1pbWcgY2xhc3M9Zm9ybS1jb250cm9sIG5hbWU9aW1nIGRhdGEtbmctbW9kZWw9bmV3UHJvZHVjdC5pbWcgcmVxdWlyZWQgbmctcGF0dGVybj1cIi9eKGh0dHBzPzpcXFxcL1xcXFwvKT8oW1xcXFxkYS16XFxcXC4tXSspXFxcXC4oW2EtelxcXFwuXXsyLDZ9KShbXFxcXC9cXFxcdyBcXFxcLi1dKikqXFxcXC8/JC9cIj48L2xhYmVsPjxwIG5nLXNob3c9Zm9ybS5pbWcuJGVycm9yLnBhdHRlcm4gY2xhc3M9aGVscC1ibG9jaz5cXHUwNDIzXFx1MDQzQVxcdTA0MzBcXHUwNDM2XFx1MDQzOFxcdTA0NDJcXHUwNDM1IFxcdTA0MzhcXHUwNDM3XFx1MDQzRVxcdTA0MzFcXHUwNDQwXFx1MDQzMFxcdTA0MzZcXHUwNDM1XFx1MDQzRFxcdTA0MzhcXHUwNDM1IFxcdTA0M0FcXHUwNDNEXFx1MDQzOFxcdTA0MzNcXHUwNDM4LjwvcD48L2Rpdj48ZGl2IGNsYXNzPWZvcm0tZ3JvdXA+PGxhYmVsIGZvcj1nZW5yZT5HZW5yZTxzZWxlY3QgbmFtZT1zZWxlY3RlZCBpZD1nZW5yZSBkYXRhLW5nLW1vZGVsPW5ld1Byb2R1Y3QuZ2VucmUgbmctb3B0aW9ucz1cIm9wdGlvbiBmb3Igb3B0aW9uIGluIG9wdGlvbnNcIiByZXF1aXJlZD48L3NlbGVjdD48L2xhYmVsPjxwIG5nLXNob3c9Zm9ybS5nZW5yZS4kZXJyb3IucmVxdWlyZWQgY2xhc3M9aGVscC1ibG9jaz5cXHUwNDFBXFx1MDQzMFxcdTA0M0FcXHUwNDNFXFx1MDQzM1xcdTA0M0UgXFx1MDQzNlxcdTA0MzBcXHUwNDNEXFx1MDQ0MFxcdTA0MzAgXFx1MDQ0RFxcdTA0NDJcXHUwNDMwIFxcdTA0M0FcXHUwNDNEXFx1MDQzOFxcdTA0MzNcXHUwNDMwLjwvcD48L2Rpdj48ZGl2IGNsYXNzPWZvcm0tZ3JvdXA+PGxhYmVsIGZvcj1jb3N0PkNvc3QgPGlucHV0IHR5cGU9dGV4dCBpZD1jb3N0IGNsYXNzPWZvcm0tY29udHJvbCBuYW1lPWNvc3QgZGF0YS1uZy1tb2RlbD1uZXdQcm9kdWN0LmNvc3QgcmVxdWlyZWQgbmctcGF0dGVybj1cIi9eWzAtOV17MSx9JC9cIj48L2xhYmVsPjxwIG5nLXNob3c9Zm9ybS5jb3N0LiRlcnJvci5wYXR0ZXJuIGNsYXNzPWhlbHAtYmxvY2s+XFx1MDQxMlxcdTA0MzJcXHUwNDM1XFx1MDQzNFxcdTA0MzhcXHUwNDQyXFx1MDQzNSBcXHUwNDQxXFx1MDQ0MlxcdTA0M0VcXHUwNDM4XFx1MDQzQ1xcdTA0M0VcXHUwNDQxXFx1MDQ0MlxcdTA0NEMgXFx1MDQzQVxcdTA0M0RcXHUwNDM4XFx1MDQzM1xcdTA0MzguPC9wPjwvZGl2PjxkaXYgY2xhc3M9Zm9ybS1ncm91cD48bGFiZWwgZm9yPWRlc2M+RGVzY3JpcHRpb24gPHRleHRhcmVhIGlkPWRlc2Mgcm93cz01IG5hbWU9ZGVzYyBjbGFzcz1mb3JtLWNvbnRyb2wgZGF0YS1uZy1tb2RlbD1uZXdQcm9kdWN0LmRlc2MgcmVxdWlyZWQgbmctbWlubGVuZ3RoPTI+PC90ZXh0YXJlYT48L2xhYmVsPjxwIG5nLXNob3c9Zm9ybS5kZXNjLiRlcnJvci5taW5sZW5ndGggY2xhc3M9aGVscC1ibG9jaz5cXHUwNDIzXFx1MDQzQVxcdTA0MzBcXHUwNDM2XFx1MDQzOFxcdTA0NDJcXHUwNDM1IFxcdTA0M0VcXHUwNDNGXFx1MDQzOFxcdTA0NDFcXHUwNDMwXFx1MDQzRFxcdTA0MzhcXHUwNDM1IFxcdTA0M0FcXHUwNDNEXFx1MDQzOFxcdTA0MzNcXHUwNDM4LjwvcD48L2Rpdj48ZGl2IGNsYXNzPWJ1dHRvbldyYXBwZXI+PGJ1dHRvbiB0eXBlPXN1Ym1pdCBkYXRhLW5nLWNsaWNrPWFkZFByb2R1Y3QoKSBjbGFzcz1cImJ0biBidG4tc3VjY2Vzc1wiIG5nLWRpc2FibGVkPWZvcm0uJGludmFsaWQ+XFx1MDQxNFxcdTA0M0VcXHUwNDMxXFx1MDQzMFxcdTA0MzJcXHUwNDM4XFx1MDQ0MlxcdTA0NEM8L2J1dHRvbj4gPGEgaHJlZj1cIi9cIiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiPlxcdTA0MURcXHUwNDMwIFxcdTA0MzNcXHUwNDNCXFx1MDQzMFxcdTA0MzJcXHUwNDNEXFx1MDQ0M1xcdTA0NEU8L2E+PC9kaXY+PC9mb3JtPjwvZGl2PicpO1xuJHRlbXBsYXRlQ2FjaGUucHV0KCcuLi9wYXJ0aWFscy9ob21lLmh0bWwnLCc8ZGl2IGNsYXNzPVwie3sgcGFnZVN0eWxlIH19XCI+PGgyPlxcdTA0MUFcXHUwNDNEXFx1MDQzOFxcdTA0MzNcXHUwNDM4IFxcdTA0M0RcXHUwNDMwIFxcdTA0M0JcXHUwNDRFXFx1MDQzMVxcdTA0M0VcXHUwNDM5IFxcdTA0MzJcXHUwNDNBXFx1MDQ0M1xcdTA0NDE8L2gyPjxkaXYgY2xhc3M9YnV0dG9ucz48YSBocmVmPS9hZGQgY2xhc3M9XCJidG4gYnRuLXByaW1hcnkgYnRuLWxnXCI+XFx1MDQxNFxcdTA0M0VcXHUwNDMxXFx1MDQzMFxcdTA0MzJcXHUwNDM4XFx1MDQ0MlxcdTA0NEMgXFx1MDQzQVxcdTA0M0RcXHUwNDM4XFx1MDQzM1xcdTA0NDM8L2E+IDxhIGhyZWY9L29yZGVycyBkYXRhLW5nLWNsaWNrPXNldE9yZGVyc051bWJlcigpIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5IGJ0bi1sZ1wiPlxcdTA0MUNcXHUwNDNFXFx1MDQzOCBcXHUwNDM3XFx1MDQzMFxcdTA0M0FcXHUwNDMwXFx1MDQzN1xcdTA0NEIgPHNwYW4gY2xhc3M9XCJnbHlwaGljb24gZ2x5cGhpY29uLWZsYXNoXCIgYXJpYS1oaWRkZW49dHJ1ZT48L3NwYW4+IHt7b3JkZXJzLmxlbmd0aH19PC9hPjwvZGl2PjxzZWxlY3QgbmFtZT1zb3J0aW5nLWxpc3QgZGF0YS1uZy1tb2RlbD1zb3J0TGlzdC50eXBlIG5nLW9wdGlvbnM9XCJvcHRpb24udmFsdWUgYXMgb3B0aW9uLm5hbWUgZm9yIG9wdGlvbiBpbiB0eXBlT3B0aW9uc1wiPjwvc2VsZWN0Pjxhc2lkZT48dWwgY2xhc3M9bGlzdC1ncm91cD48bGkgY2xhc3M9bGlzdC1ncm91cC1pdGVtIGRhdGEtbmctcmVwZWF0PVwiZ2VucmUgaW4gZ2VucmVMaXN0XCIgbmctY2xpY2s9bXlGaWx0ZXIoZ2VucmUudmFsKT48c3BhbiBjbGFzcz1iYWRnZT57e2dlbnJlLm51bX19PC9zcGFuPiB7e2dlbnJlLnZhbH19PC9saT48bGkgY2xhc3M9bGlzdC1ncm91cC1pdGVtIG5nLWNsaWNrPW15RmlsdGVyKG51bGwpPjxzcGFuIGNsYXNzPWJhZGdlPnt7cHJvZHVjdHMubGVuZ3RofX08L3NwYW4+XFx1MDQxRlxcdTA0M0VcXHUwNDNBXFx1MDQzMFxcdTA0MzdcXHUwNDMwXFx1MDQ0MlxcdTA0NEMgXFx1MDQzMlxcdTA0NDFcXHUwNDM1IFxcdTA0M0FcXHUwNDNEXFx1MDQzOFxcdTA0MzNcXHUwNDM4PC9saT48L3VsPjwvYXNpZGU+PHVsIGNsYXNzPWxpc3Qgbmctc2hvdz1pc0xvYWRlZD48bGkgZGF0YS1uZy1yZXBlYXQ9XCJwcm9kIGluIHByb2R1Y3RzIHwgZmlsdGVyOiBmaWx0ZXJzIHwgb3JkZXJCeTogc29ydExpc3QudHlwZVwiIGRhdGEtbmctY2xpY2s9c2hvd1Byb2R1Y3QocHJvZCkgZGF0YS1uZy1tb2RlbD1pdGVtIGNsYXNzPVwiZmFkZWluIHByb2R1Y3RzXCI+PG1kLWNhcmQ+PHAgY2xhc3M9Z2VucmU+e3sgcHJvZC5nZW5yZSB9fTwvcD48YSBocmVmPVwiL3Byb2R1Y3Qve3sgcHJvZC5pZCB9fVwiPjxoMz57eyBwcm9kLnRpdGxlIH19PC9oMz48aW1nIHNyYz1cInt7IHByb2QuaW1nIH19XCIgd2lkdGg9MTAwIGNsYXNzPW1kLWNhcmQtaW1hZ2UgYWx0PVwiaW1hZ2UgY2FwdGlvblwiPjxicj48L2E+PHAgY2xhc3M9ZGVzYz57eyBwcm9kLmRlc2NyaXB0aW9uLnN1YnN0cmluZygwLCA1MCkgfX0gLi4uPC9wPjxkaXYgY2xhc3M9Y29zdD57e3Byb2QuY29zdH19JDwvZGl2PjwvbWQtY2FyZD48L2xpPjwvdWw+PC9kaXY+Jyk7XG4kdGVtcGxhdGVDYWNoZS5wdXQoJy4uL3BhcnRpYWxzL29yZGVycy5odG1sJywnPGRpdiBjbGFzcz17e3BhZ2VTdHlsZX19PjxoMj5cXHUwNDIyXFx1MDQzMlxcdTA0M0VcXHUwNDM4IFxcdTA0MzdcXHUwNDMwXFx1MDQzQVxcdTA0MzBcXHUwNDM3XFx1MDQ0QjwvaDI+PHVsIGNsYXNzPW9yZGVycy1saXN0PjxsaSBkYXRhLW5nLXJlcGVhdD1cXCdvcmRlciBpbiBvcmRlcnMgfCBmaWx0ZXI6IG9yZGVyLmlkIHwgb3JkZXJCeTogXCJpZFwiXFwnPlxcdTIxMTYge3sgb3JkZXIuaWQgfX0uIDxzcGFuPnt7IG9yZGVyLnRpdGxlIH19PC9zcGFuPiAtIHt7IG9yZGVyLnF1YW50aXR5IH19IHBjICh7eyBvcmRlci5jb3N0Km9yZGVyLnF1YW50aXR5fX0gJCkgPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tZGFuZ2VyXCIgZGF0YS1uZy1jbGljaz1yZW1vdmVPcmRlcigkaW5kZXgpPlxcdTA0MjNcXHUwNDM0XFx1MDQzMFxcdTA0M0JcXHUwNDM4XFx1MDQ0MlxcdTA0NEM8L2J1dHRvbj48L2xpPjwvdWw+PGRpdiBjbGFzcz1zdW0+PHNwYW4+XFx1MDQxRVxcdTA0MzFcXHUwNDQ5XFx1MDQzMFxcdTA0NEYgXFx1MDQ0MVxcdTA0NDNcXHUwNDNDXFx1MDQzQ1xcdTA0MzA6PC9zcGFuPiA8c3BhbiBjbGFzcz1zdW1JbmZvPnt7IHN1bSB9fSAkPC9zcGFuPjwvZGl2PjxhIGhyZWY9XCIvXCIgY2xhc3M9XCJidG4gYnRuLXByaW1hcnkgYnRuLWxnXCI+XFx1MDQxRFxcdTA0MzAgXFx1MDQzM1xcdTA0M0JcXHUwNDMwXFx1MDQzMlxcdTA0M0RcXHUwNDQzXFx1MDQ0RTwvYT48L2Rpdj4nKTtcbiR0ZW1wbGF0ZUNhY2hlLnB1dCgnLi4vcGFydGlhbHMvcHJvZHVjdC5odG1sJywnPGRpdiBjbGFzcz17e3BhZ2VTdHlsZX19PjxhIGhyZWY9I29yZGVycyBjbGFzcz1cImJ0biBidG4tZGFuZ2VyIGJ0bi1sZyBidXlcIiBkYXRhLW5nLWNsaWNrPWFkZE9yZGVyKGl0ZW0pPlxcdTA0MUFcXHUwNDQzXFx1MDQzRlxcdTA0MzhcXHUwNDQyXFx1MDQ0QyBcXHUwNDMyXFx1MDQ0MVxcdTA0MzVcXHUwNDMzXFx1MDQzRSBcXHUwNDM3XFx1MDQzMCAkIHt7IGNvc3QgfX08L2E+PGRpdiBjbGFzcz1wcm9kdWN0LWNvbnRlbnQ+PGgxPnt7IHRpdGxlfX08L2gxPjxpbWcgY2xhc3M9aW1nLXJlc3BvbnNpdmUgc3JjPVwie3sgaW1nIH19XCIgYWx0PWltZyB3aWR0aD0zMDA+PHAgY2xhc3M9ZGVzYz57eyBkZXNjcmlwdGlvbiB9fTwvcD48cD48Yj5cXHUwNDE2XFx1MDQzMFxcdTA0M0RcXHUwNDQwOiA8c3Bhbj57e2dlbnJlfX08L3NwYW4+PC9iPjwvcD48L2Rpdj48YSBocmVmPSMgbmctY2xpY2s9ZGVsZXRlUHJvZHVjdCgpIGNsYXNzPVwiYnRuIGJ0bi13YXJuaW5nXCI+XFx1MDQyM1xcdTA0MzRcXHUwNDMwXFx1MDQzQlxcdTA0MzhcXHUwNDQyXFx1MDQ0QyBcXHUwNDNBXFx1MDQzRFxcdTA0MzhcXHUwNDMzXFx1MDQ0MzwvYT4gPGEgaHJlZj1cIi9cIiBjbGFzcz1cImJ0biBidG4taW5mb1wiPlxcdTA0MURcXHUwNDMwIFxcdTA0MzNcXHUwNDNCXFx1MDQzMFxcdTA0MzJcXHUwNDNEXFx1MDQ0M1xcdTA0NEU8L2E+PC9kaXY+Jyk7fV0pOyIsIlwidXNlIHN0cmljdFwiO1xuXG4oZnVuY3Rpb24gKCkge1xuICAgIHNob3BBcHAuZmFjdG9yeShcIm9yZGVyc0ZhY3RvcnlcIiwgW1wiJGxvY2F0aW9uXCIsIGZ1bmN0aW9uICgkbG9jYXRpb24pIHtcbiAgICAgICAgdmFyIG9yZGVycyA9IFt7XG4gICAgICAgICAgICBpZDogMSxcbiAgICAgICAgICAgIHRpdGxlOiBcIkNhdCBpbiB0aGUgZGFya1wiLFxuICAgICAgICAgICAgaW1nOiAnLi9pbWcvY2F0Mi5qcGcnLFxuICAgICAgICAgICAgZGVzYzogXCJJdHMganVzdCBtZVwiLFxuICAgICAgICAgICAgY29zdDogJzUwJyxcbiAgICAgICAgICAgIHF1YW50aXR5OiAxXG4gICAgICAgIH1dO1xuICAgICAgICB2YXIgZmFjdG9yeSA9IHt9O1xuICAgICAgICBmYWN0b3J5LmdldE9yZGVycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBvcmRlcnM7XG4gICAgICAgIH07XG5cbiAgICAgICAgZmFjdG9yeS5hZGRPcmRlciA9IGZ1bmN0aW9uIChpdGVtKSB7XG5cbiAgICAgICAgICAgIGlmIChvcmRlcnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHZhciBpc0NvaW5jaWRlbmNlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgb3JkZXJzLmZvckVhY2goZnVuY3Rpb24gKG9yZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLnRpdGxlID09PSBvcmRlci50aXRsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaXNDb2luY2lkZW5jZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcmRlci5xdWFudGl0eSsrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKCFpc0NvaW5jaWRlbmNlKSB7XG4gICAgICAgICAgICAgICAgICAgIG9yZGVycy5wdXNoKGl0ZW0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvJyk7XG4gICAgICAgIH07XG4gICAgICAgIGZhY3RvcnkuZGVmaW5lQ29zdEZvckl0ZW1zID0gZnVuY3Rpb24gKG9yZGVycykge1xuICAgICAgICAgICAgdmFyIHN1bSA9IDA7XG4gICAgICAgICAgICBvcmRlcnMuZm9yRWFjaChmdW5jdGlvbiAob3JkZXIpIHtcbiAgICAgICAgICAgICAgICBzdW0gKz0gK29yZGVyLmNvc3Q7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBzdW07XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBmYWN0b3J5O1xuICAgIH1dKTtcbn0pKCk7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbihmdW5jdGlvbiAoKSB7XG4gICAgLy8gRkFDVE9SWVxuICAgIHNob3BBcHAuZmFjdG9yeShcInByb2R1Y3RzRmFjdG9yeVwiLCBbXCIkaHR0cFwiLCBcIiRsb2NhdGlvblwiLCBcIiR0aW1lb3V0XCIsIGZ1bmN0aW9uICgkaHR0cCwgJGxvY2F0aW9uLCAkdGltZW91dCkge1xuXG4gICAgICAgIHZhciByZWNpZXZlRGF0YSA9IGZ1bmN0aW9uIHJlY2lldmVEYXRhKCkge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwLmdldCgnaHR0cDovL2xvY2FsaG9zdDo4MDgwLycpO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgcHJvZHVjdHMgPSBbXTtcblxuICAgICAgICB2YXIgZmFjdG9yeSA9IHt9O1xuICAgICAgICBmYWN0b3J5LmdldEpTT04gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVjaWV2ZURhdGEoKTtcbiAgICAgICAgfTtcbiAgICAgICAgZmFjdG9yeS5nZXRQcm9kdWN0cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBwcm9kdWN0cztcbiAgICAgICAgfTtcbiAgICAgICAgZmFjdG9yeS5zZXRQcm9kdWN0cyA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICBwcm9kdWN0cyA9IGRhdGE7XG4gICAgICAgIH07XG4gICAgICAgIGZhY3RvcnkuYWRkUHJvZHVjdCA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgICAkaHR0cCh7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAncG9zdCcsXG4gICAgICAgICAgICAgICAgdXJsOiAnaHR0cDovL2xvY2FsaG9zdDo4MDgwLycsXG4gICAgICAgICAgICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoaXRlbSksXG4gICAgICAgICAgICAgICAgY29uZmlnOiAnQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9qc29uOydcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy8nKTtcbiAgICAgICAgICAgICAgICB9LCAxMDAwKTtcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBmYWN0b3J5LmRlbGV0ZVByb2R1Y3QgPSBmdW5jdGlvbiAoZGF0YSkge1xuXG4gICAgICAgICAgICB2YXIgcHJvZHVjdEluZm8gPSB7XG4gICAgICAgICAgICAgICAgaW5kZXg6IGRhdGEuaW5kZXgsXG4gICAgICAgICAgICAgICAgcHJvZHVjdElkOiBkYXRhLnByb2R1Y3QuaWRcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAkaHR0cC5kZWxldGUoJ2h0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9wcm9kdWN0LycgKyBwcm9kdWN0SW5mby5wcm9kdWN0SWQsIHsgcGFyYW1zOiBwcm9kdWN0SW5mbyB9KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnLycpO1xuICAgICAgICAgICAgICAgIH0sIDEwMDApO1xuXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICBmYWN0b3J5LmZpbmRQcm9kdWN0QnlJZCA9IGZ1bmN0aW9uIChpZCkge1xuICAgICAgICAgICAgdmFyIGZvdW5kID0gdm9pZCAwO1xuICAgICAgICAgICAgcHJvZHVjdHMuZm9yRWFjaChmdW5jdGlvbiAocHJvZHVjdCkge1xuICAgICAgICAgICAgICAgIGlmIChwcm9kdWN0LmlkID09IGlkKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvdW5kID0gcHJvZHVjdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBmb3VuZDtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGZhY3Rvcnk7XG4gICAgfV0pO1xufSkoKTsiLCJcInVzZSBzdHJpY3RcIjtcblxuKGZ1bmN0aW9uICgpIHtcbiAgICBzaG9wQXBwLmNvbnRyb2xsZXIoXCJTaG93T3JkZXJzXCIsIFtcIiRzY29wZVwiLCBcIiRyb3V0ZVBhcmFtc1wiLCBcInByb2R1Y3RzRmFjdG9yeVwiLCBcIm9yZGVyc0ZhY3RvcnlcIiwgZnVuY3Rpb24gKCRzY29wZSwgJHJvdXRlUGFyYW1zLCBwcm9kdWN0c0ZhY3RvcnksIG9yZGVyc0ZhY3RvcnkpIHtcbiAgICAgICAgJHNjb3BlLnBhZ2VTdHlsZSA9ICdzaG93T3JkZXJzU3R5bGUnO1xuICAgICAgICAkc2NvcGUub3JkZXJzID0gW107XG4gICAgICAgICRzY29wZS5zdW0gPSBvcmRlcnNGYWN0b3J5LmRlZmluZUNvc3RGb3JJdGVtcyhvcmRlcnNGYWN0b3J5LmdldE9yZGVycygpKTtcbiAgICAgICAgJHNjb3BlLml0ZW0gPSB7fTtcbiAgICAgICAgJHNjb3BlLnNlbGVjdGVkID0geyB2YWx1ZTogMCB9O1xuXG4gICAgICAgIHZhciBpbml0ID0gZnVuY3Rpb24gaW5pdCgpIHtcbiAgICAgICAgICAgICRzY29wZS5vcmRlcnMgPSBvcmRlcnNGYWN0b3J5LmdldE9yZGVycygpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGluaXQoKTtcbiAgICAgICAgJHNjb3BlLnJlbW92ZU9yZGVyID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgIGlmICgkc2NvcGUub3JkZXJzW2l0ZW1dLnF1YW50aXR5ID4gMSkge1xuICAgICAgICAgICAgICAgICRzY29wZS5vcmRlcnNbaXRlbV0ucXVhbnRpdHkgLT0gMTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoJHNjb3BlLm9yZGVyc1tpdGVtXS5xdWFudGl0eSA9PT0gMSkge1xuICAgICAgICAgICAgICAgICRzY29wZS5vcmRlcnMuc3BsaWNlKGl0ZW0sIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1dKTtcbn0pKCk7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbihmdW5jdGlvbiAoKSB7XG4gICAgc2hvcEFwcC5jb250cm9sbGVyKFwiU2hvd1Byb2R1Y3RcIiwgW1wiJHNjb3BlXCIsIFwiJHJvdXRlUGFyYW1zXCIsIFwicHJvZHVjdHNGYWN0b3J5XCIsIFwib3JkZXJzRmFjdG9yeVwiLCBmdW5jdGlvbiAoJHNjb3BlLCAkcm91dGVQYXJhbXMsIHByb2R1Y3RzRmFjdG9yeSwgb3JkZXJzRmFjdG9yeSkge1xuICAgICAgICAkc2NvcGUucGFnZVN0eWxlID0gJ3Nob3dQcm9kdWN0U3R5bGUnO1xuICAgICAgICAkc2NvcGUuUHJvZHVjdElkID0gJHJvdXRlUGFyYW1zLmlkO1xuICAgICAgICB2YXIgY3VycmVudFByb2R1Y3QgPSBwcm9kdWN0c0ZhY3RvcnkuZmluZFByb2R1Y3RCeUlkKCRzY29wZS5Qcm9kdWN0SWQpO1xuICAgICAgICAkc2NvcGUuaW1nID0gY3VycmVudFByb2R1Y3QuaW1nO1xuICAgICAgICAkc2NvcGUudGl0bGUgPSBjdXJyZW50UHJvZHVjdC50aXRsZTtcbiAgICAgICAgJHNjb3BlLmdlbnJlID0gY3VycmVudFByb2R1Y3QuZ2VucmU7XG4gICAgICAgICRzY29wZS5kZXNjcmlwdGlvbiA9IGN1cnJlbnRQcm9kdWN0LmRlc2NyaXB0aW9uO1xuICAgICAgICAkc2NvcGUuY29zdCA9IGN1cnJlbnRQcm9kdWN0LmNvc3Q7XG4gICAgICAgICRzY29wZS5wcm9kdWN0cyA9IHByb2R1Y3RzRmFjdG9yeS5nZXRQcm9kdWN0cygpO1xuXG4gICAgICAgICRzY29wZS5hZGRPcmRlciA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgICBvcmRlcnNGYWN0b3J5LmFkZE9yZGVyKHtcbiAgICAgICAgICAgICAgICB0aXRsZTogY3VycmVudFByb2R1Y3QudGl0bGUsXG4gICAgICAgICAgICAgICAgaWQ6IG9yZGVyc0ZhY3RvcnkuZ2V0T3JkZXJzKCkubGVuZ3RoICsgMSxcbiAgICAgICAgICAgICAgICBjb3N0OiBjdXJyZW50UHJvZHVjdC5jb3N0LFxuICAgICAgICAgICAgICAgIHF1YW50aXR5OiAxXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuZGVsZXRlUHJvZHVjdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGN1cnJlbnRQcm9kdWN0KTtcbiAgICAgICAgICAgIHZhciBpbmRleCA9ICRzY29wZS5wcm9kdWN0cy5pbmRleE9mKGN1cnJlbnRQcm9kdWN0KTtcbiAgICAgICAgICAgIHByb2R1Y3RzRmFjdG9yeS5kZWxldGVQcm9kdWN0KHtcbiAgICAgICAgICAgICAgICBpbmRleDogaW5kZXgsXG4gICAgICAgICAgICAgICAgcHJvZHVjdDogY3VycmVudFByb2R1Y3RcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgIH1dKTtcbn0pKCk7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbihmdW5jdGlvbiAoKSB7XG4gICAgc2hvcEFwcC5jb250cm9sbGVyKFwiYWRkUHJvZHVjdFwiLCBbXCIkc2NvcGVcIiwgXCJwcm9kdWN0c0ZhY3RvcnlcIiwgZnVuY3Rpb24gKCRzY29wZSwgcHJvZHVjdHNGYWN0b3J5KSB7XG4gICAgICAgICRzY29wZS5wYWdlU3R5bGUgPSAnYWRkU3R5bGUnO1xuICAgICAgICAkc2NvcGUub3B0aW9ucyA9IFtcItCU0LXRgtC10LrRgtC40LLRi1wiLCBcItCf0YHQuNGF0L7Qu9C+0LPQuNGPXCIsIFwi0KTQsNC90YLQsNGB0YLQuNC60LBcIiwgXCLQpNC10L3RgtC10LfQuFwiLCBcItCh0LrQsNC30LrQuFwiLCBcItCW0LXQvdGB0LrQuNC1INGA0L7QvNCw0L3Ri1wiLCBcItCg0LXQu9C40LPQuNGPXCIsIFwi0KPQttCw0YHRi1wiXTtcblxuICAgICAgICAkc2NvcGUuYWRkUHJvZHVjdCA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgcHJvZHVjdHNGYWN0b3J5LmFkZFByb2R1Y3Qoe1xuICAgICAgICAgICAgICAgIHRpdGxlOiAkc2NvcGUubmV3UHJvZHVjdC50aXRsZSxcbiAgICAgICAgICAgICAgICBpbWc6ICRzY29wZS5uZXdQcm9kdWN0LmltZyxcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJHNjb3BlLm5ld1Byb2R1Y3QuZGVzYyxcbiAgICAgICAgICAgICAgICBnZW5yZTogJHNjb3BlLm5ld1Byb2R1Y3QuZ2VucmUsXG4gICAgICAgICAgICAgICAgY29zdDogKyRzY29wZS5uZXdQcm9kdWN0LmNvc3QsXG4gICAgICAgICAgICAgICAgaWQ6IE1hdGgucmFuZG9tKClcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgIH1dKTtcbn0pKCk7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbihmdW5jdGlvbiAoKSB7XG5cbiAgICAvLyBDT05UUk9MTEVSUyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vIGhvbWUgcGFnZSBjb250cm9sbGVyXG4gICAgc2hvcEFwcC5jb250cm9sbGVyKFwibWFpbkNvbnRyb2xsZXJcIiwgW1wiJHNjb3BlXCIsIFwiJGxvY2F0aW9uXCIsIFwiJHJvdXRlUGFyYW1zXCIsIFwicHJvZHVjdHNGYWN0b3J5XCIsIFwib3JkZXJzRmFjdG9yeVwiLCBmdW5jdGlvbiAoJHNjb3BlLCAkbG9jYXRpb24sICRyb3V0ZVBhcmFtcywgcHJvZHVjdHNGYWN0b3J5LCBvcmRlcnNGYWN0b3J5KSB7XG4gICAgICAgICRzY29wZS5wYWdlU3R5bGUgPSAnbWFpblBhZ2VTdHlsZSc7XG4gICAgICAgICRzY29wZS5wYWdlQ2xhc3MgPSBcInBhZ2Utc3R5bGVcIjtcbiAgICAgICAgJHNjb3BlLnByb2R1Y3RzID0gW107XG4gICAgICAgICRzY29wZS5pc0xvYWRlZCA9IGZhbHNlO1xuICAgICAgICAkc2NvcGUub3JkZXJzID0gW107XG4gICAgICAgICRzY29wZS5nZW5yZUxpc3QgPSBbXTtcbiAgICAgICAgJHNjb3BlLmZpbHRlcnMgPSAnJztcbiAgICAgICAgJHNjb3BlLnR5cGVPcHRpb25zID0gW3sgbmFtZTogJ9Cd0LDQt9Cy0LDQvdC40LUnLCB2YWx1ZTogJ3RpdGxlJyB9LCB7IG5hbWU6ICfQltCw0L3RgCcsIHZhbHVlOiAnZ2VucmUnIH0sIHsgbmFtZTogJ9Cm0LXQvdCwINC/0L4g0LLQvtC30YDQsNGB0YLQsNC90LjRjicsIHZhbHVlOiAnY29zdCcgfV07XG4gICAgICAgICRzY29wZS5zb3J0TGlzdCA9IHsgdHlwZTogJHNjb3BlLnR5cGVPcHRpb25zWzBdLnZhbHVlIH07XG4gICAgICAgIC8vIEN1c3RvbSBmaWx0ZXJcbiAgICAgICAgJHNjb3BlLm15RmlsdGVyID0gZnVuY3Rpb24gKGxpbmspIHtcbiAgICAgICAgICAgIGlmIChsaW5rID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUuZmlsdGVycyA9ICcnO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUuZmlsdGVycyA9IGxpbms7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIC8vIEdldCBKU09OIGZyb20gcmVzcG9uc2UgYW5kIHdvcmsgd2l0aCBpdFxuICAgICAgICB2YXIgY3JlYXRlTGlzdCA9IGZ1bmN0aW9uIGNyZWF0ZUxpc3QoKSB7XG4gICAgICAgICAgICBwcm9kdWN0c0ZhY3RvcnkuZ2V0SlNPTigpLnRoZW4oZnVuY3Rpb24gKGl0ZW1zKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgbGlzdCA9IFtdO1xuICAgICAgICAgICAgICAgIGl0ZW1zLmRhdGEuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBsaXN0SXRlbSA9IHt9O1xuICAgICAgICAgICAgICAgICAgICBsaXN0SXRlbS5kZXNjcmlwdGlvbiA9IGtleS5kZXNjcmlwdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgbGlzdEl0ZW0udGl0bGUgPSBrZXkudGl0bGU7XG4gICAgICAgICAgICAgICAgICAgIGxpc3RJdGVtLmltZyA9IGtleS5pbWc7XG4gICAgICAgICAgICAgICAgICAgIGxpc3RJdGVtLmdlbnJlID0ga2V5LmdlbnJlO1xuICAgICAgICAgICAgICAgICAgICBsaXN0SXRlbS5jb3N0ID0gK2tleS5jb3N0O1xuICAgICAgICAgICAgICAgICAgICBsaXN0SXRlbS5pZCA9IGtleS5pZDtcbiAgICAgICAgICAgICAgICAgICAgbGlzdC5wdXNoKGxpc3RJdGVtKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBwcm9kdWN0c0ZhY3Rvcnkuc2V0UHJvZHVjdHMobGlzdCk7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnByb2R1Y3RzID0gbGlzdDtcblxuICAgICAgICAgICAgICAgIHZhciBnZW5yZUxpc3QgPSBfLm1hcChsaXN0LCAnZ2VucmUnKTsgLy8gdGFrZSBvbmx5IG9uZSBrZXkgZnJvbSBvYmplY3RcbiAgICAgICAgICAgICAgICB2YXIgZ2VucmVzID0gY291bnQoKTsgLy8gbWFrZSBhcnJheSBmb3JtIG5vLXJlcGVhdGVkIGdlbnJlc1xuICAgICAgICAgICAgICAgIHZhciBnZW5yZUFycmF5RnJvbU9iamVjdCA9IF8ubWFwKGdlbnJlcywgZnVuY3Rpb24gKGl0ZW0sIGkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy9yZWNvbnN0cnVjdCBzdHJ1Y3R1cmUgZm9yIG5nLXJlcGVhdFxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgbnVtOiBpdGVtLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsOiBpIHx8IG51bGxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAkc2NvcGUuZ2VucmVMaXN0ID0gZ2VucmVBcnJheUZyb21PYmplY3Q7XG5cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBjb3VudCgpIHtcbiAgICAgICAgICAgICAgICAgICAgZ2VucmVMaXN0LnNvcnQoKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHVuaXFWYWx1ZXNPYmplc2MgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnQgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB2YXIgY250ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBnZW5yZUxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChnZW5yZUxpc3RbaV0gIT0gY3VycmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBnZW5yZUxpc3RbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY250ID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bmlxVmFsdWVzT2JqZXNjW2N1cnJlbnRdID0gY250O1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbnQrKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bmlxVmFsdWVzT2JqZXNjW2N1cnJlbnRdID0gY250O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmlxVmFsdWVzT2JqZXNjO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBpbml0ID0gZnVuY3Rpb24gaW5pdCgpIHtcbiAgICAgICAgICAgICRzY29wZS5wcm9kdWN0cyA9IGNyZWF0ZUxpc3QoKTtcbiAgICAgICAgICAgICRzY29wZS5vcmRlcnMgPSBvcmRlcnNGYWN0b3J5LmdldE9yZGVycygpO1xuICAgICAgICAgICAgJHNjb3BlLmlzTG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCRzY29wZS5pc0xvYWRlZCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgaW5pdCgpO1xuICAgIH1dKTtcbn0pKCk7Il19
